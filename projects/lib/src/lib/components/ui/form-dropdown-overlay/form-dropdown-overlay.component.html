<ul role="listbox" [id]="ariaListboxId()" class="dropdown-options">
  @for (option of options(); track option.value) {
    <li
      class="dropdown-option"
      [class.selected]="isSelected(option)"
      [class.focused]="focusedIndex() === $index"
      [attr.data-index]="$index"
      [attr.aria-selected]="focusedIndex() === $index"
      [id]="'option-' + i"
      (click)="selectOption(option)"
      #optionElement
    >
      {{ option.label }}
      @if (isSelected(option) && multiselect()) {
        @if (focusedIndex() === $index) {
          <lucide-icon class="selected-icon" [img]="clearIcon" />
        } @else {
          <lucide-icon class="selected-icon" [img]="checkIcon" />
        }
      }
    </li>
  }
</ul>
