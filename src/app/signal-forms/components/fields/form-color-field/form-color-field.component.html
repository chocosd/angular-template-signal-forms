<div class="color-field-wrapper">
  @if (isSwatchOnly()) {
    <label class="color-swatch" [attr.for]="name()">
      <input
        type="color"
        class="sr-only"
        [attr.name]="name()"
        [id]="name()"
        [attr.aria-describedby]="ariaDescribedBy()"
        [attr.aria-invalid]="error() ? 'true' : 'false'"
        [value]="currentColor()"
        [disabled]="disabled()"
        (input)="onColorInputChange($event)"
        (blur)="handleBlur()"
      />
      <span
        class="swatch-display"
        [style.background]="currentColor()"
        aria-hidden="true"
      ></span>
    </label>
  } @else {
    <div class="color-picker-full">
      <input
        type="color"
        class="color-input"
        [attr.name]="name()"
        [id]="name() + '-picker'"
        [attr.aria-describedby]="ariaDescribedBy()"
        [attr.aria-invalid]="error() ? 'true' : 'false'"
        [value]="currentColor()"
        [disabled]="disabled()"
        (input)="onColorInputChange($event)"
        (blur)="handleBlur()"
      />

      <input
        type="text"
        class="hex-input"
        [value]="inputValue()"
        [attr.aria-label]="'Hex color code for ' + name()"
        [disabled]="disabled()"
        (input)="onTextInputChange($event.target.value)"
        (blur)="handleBlur()"
      />
    </div>
  }
</div>
